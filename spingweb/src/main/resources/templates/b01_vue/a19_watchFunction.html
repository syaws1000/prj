<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="/com/bootstrap.min.css" >
<style>
	td{text-align:center;}
</style>
<script src="/com/jquery-3.7.1.js"></script>
<script src="/com/bootstrap.min.js"></script>
<script src="https://unpkg.com/vue"></script>
	
	
<script type="text/javascript">
/*
# watch 속성
1. Vue인스턴스의 특정 데이터가 변경되는 것을 감시하고, 그에 따라 지정된 동작을 수행하게 하는 강력한 기능입니다.
	데이터가 바뀔 때마다 API호출과 같은 비동기적이거나 연산 비용이 큰 작업을 수행할 때, 매우 유용합니다.
2. computed와 watch의 비교
	1) computed
		목적 : 기존 데이터를 가공하여 새로운 데이터를 만들 때 사용합니다.(firstName과 lastName을 합쳐 fullName 만들기)
		특징 : 동기적으로 작동하며, 계산 결과를 캐싱하여 성능을 최적화합니다. 단순한 값의 반환이 주 목적입니다.
	2) watch
		목적 : 특정 데이터의 변화 자체를 감지하여 추가적인 동작을 수행할 때 사용합니다.
		특징 : 비동기적 처리가 가능하며, 데이터가 변할 때마다 복잡한 로직(API 호출, 타이머 설정 등)을 실행할 수 있습니다.
			과정을 처리하는 것이 주 목적입니다.
	# computed는 1+1이라는 식이 주어졌을 때, 2라는 결과를 바로 내놓는 것과 같습니다.
		반면 watch는 온도가 30도 이상으로 올라가면 에어컨을 켜라는 명령을 내리는 것과 같습니다.
		
	ex) a20_watchExp.html
		아이디 유효성 검사
		입력할아이디:[    ]
		유효합니다/아이디는5글자이상이어야합니다/아이디를입력해주세요 - validMsg로 처리하세요
			.length : 글자의 갯수..
		
 */

	$(document).ready(function(){
		// http://localhost:5050/b01_vue/a19_watchFunction.html
		Vue.createApp({
			name:"App",
			data(){
				return { msg:"watch 속성", searchQuery:"", status:"대기중"}
			},
			watch:{
				// 1. 감시할 데이터 : searchQuery - data가 있는 searchQuery라는 이름의 데이터가 변경될 때마이 이 함수를 실행
				searchQuery(newVal, oldVal){ // newVal : 변경된 새로운 값, oldVal : 변경되기 이전의 값...
					console.log(newVal+":"+oldVal)
					// 2. 변경 직후 즉시 실행될 코드
					this.status = "검색 중...."  // 사용자가 무언가를 입력하는 순간, status 메시지를 즉시 변경하여 사용자에게 피드백
					// 3. 비동기 작업 시뮬레이션(1초 딜레이)
					setTimeout( () => {   
						// 1초 후에 내부 코드를 실행하는 비동기 함수. 실제 상황에서는 이 부분에 axios나 fetch서버이용
						this.status = "검색 완료:"+newVal
					}, 1000)
				}
			}
		}).mount(".container")
	});
</script>
</head>
<body>
<div class="container">
	<div class="jumbotron text-center">
  		<h2>{{msg}}</h2>
		<input type='text' v-model="searchQuery" placeholder="검색어를 입력하세요" class="form-control mr-sm-2">
		<h3>상태:{{status}}</h3>
	</div>
	<form id="frm01" class="form"  method="post">
  	<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
	    <input placeholder="제목" name=""  class="form-control mr-sm-2" />
	    <input placeholder="내용" name=""  class="form-control mr-sm-2"/>
	    <button class="btn btn-info" type="submit">Search</button>
	    <button class="btn btn-success" 
	    	data-toggle="modal" data-target="#exampleModalCenter"
	        type="button">등록</button>
 	</nav>
	</form>
   <table class="table table-hover table-striped">
   	<col width="10%">
   	<col width="50%">
   	<col width="15%">
   	<col width="15%">
   	<col width="10%">
    <thead>
    
      <tr class="table-success text-center">
        <th>번호</th>
        <th>제목</th>
        <th>작성자</th>
        <th>작성일</th>
        <th>조회</th>
      </tr>
    </thead>	
    <tbody>
    	<tr><td></td><td></td><td></td><td></td><td></td></tr>
    	<tr><td></td><td></td><td></td><td></td><td></td></tr>
    	<tr><td></td><td></td><td></td><td></td><td></td></tr>
    </tbody>
	</table>    
    
</div>
</body>