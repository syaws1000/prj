# 파일 업로드 및 DB 정보 할당 
1. 웹 애플리케이션에서 파일 업로드 기능을 구현하는 방법을 알아보겠습니다. 파일 업로드는 사용자가 파일을 선택하여 서버로 전송하고,
서버에서 파일을 저장한 후, 해당 파일 정보를 데이터베이스에 저장하여 관리할 수 있는 기능을 다룹니다. 이 과정에서 파일업로드의
구현 방법과 함께 이후 진행하는 특정 게시물에 연관하여 파일 다운로드 하기위하여 DB 파일 정보 저장하는 방법을 알아봅시다.

2. 목표
	1) 사용자가 파일을 선택하여 서버에 업로드하는 방법을 이해한다.
	2) 업로드된 파일을 서버의 지정된 경로에 저장하고, 해당 파일 정보를 데이터베이스에 저장하는 방법을 학습한다.
	3) 실제 웹 개발 환경에서 파일 업로드 기능을 구현하고, 업로드한 파일을 파일 다운하거나 재활용할 수 있도록 하는 방법을 익힌다.

3. 파일 업로드의 필요성
	1) 웹 애플리케이션에서 파일 업로드 기능은 사용자로부터 파일을 받아 저장하고, 이후에 다운로드하거나 사용하기 위해 필요합니다.
		일반적으로 form 하위 객체에서 type="file" 요소를 이용해 파일을 선택하고, 이를 서버에 전송하여 처리합니다.
	2) 기능 프로세스
		- 사용자 입력 후 첨부 파일을 선택하고, 서버로 전송합니다.
		- 서버는 파일을 지정된 경로에 저장하고, 파일명, 등록일 등의 정보를 DB에 저장합니다.
		- 사용자가 해당 파일을 확인하고 다운로드할 수 있습니다.
4. 파일 업로드 순서
	1) 기본 환경 설정(application.properties설정)
		- 파일 업로드를 처리할 위치와 최소/최대 용량을 설정합니다.
		ex) properties
		user.upload=경로명
	2) 화면구성(html/jsp)
		- encType = "multipart/form-data" 설정
			파일업로드를 처리하려면 <form> 요소에 enctype의 속성을 추가해야 합니다. 이는 파일 전송을 포함한 폼 데이터가 서버로
			전송될 때, 필요합니다.
		- 파일 입력 필드 추가
			input type="file"요소를 사용하여 파일을 선택할 수 있게 합니다. 여러 파일을 선택하려면 multiple 속성을 추가합니다.
		- ex) 
		<form action="upload" method="post" enctype="multipart/form-data">
			<input type="file" name="report" multiple="multiple">
			
# 파일다운로드 처리.
1. 간단한 처리
	<a href="파일명" download>파일명</a> ==> 파일다운로드가 처리된다.
	파일이 저장된 경로를 공개해야하는 문제점으로 해당 경로를 클릭시, 모든 파일을 볼 수 있는 보안상 취약점이 있고,
	그외 파일을 다른 이름으로 암호화하는데도 문제가 있음
2. 보안이 적용된 처리..(spring에서 권유하는 방법)
	1) 다운로드 controller을 생성 - 해당 파일을 stream으로 서버상의 특정 위치에서 다운받게 처리한다.
		- 실제 저장된 경로와 controller에서 호출하는 경로가 다르므로, 해당 다운로드 경로를 알 수 없음
		- 추가적인 보안적용을 할 수 있음(실제 다운되는 파일명과 저장된 파일명을 다르게 설정이 가능 등...)		
3. 개발 순서
	1) 파일 다운로드 할 controller 설정
	2) 파일을 호출하여 경로에 처리할 파일을 리스트 처리
	3) 특정 파일을 클릭시, 다운로드할  controller단에 호출하여 파일을 stream으로 다운로드되게 한다.  			
				
		
		